#!/bin/sh

# ì»¤ë°‹ ë©”ì‹œì§€ íŒŒì¼ ê²½ë¡œ
commit_message_file=$1

# ì»¤ë°‹ ë©”ì‹œì§€ ì½ê¸°
commit_message=$(cat "$commit_message_file")

# ì»¤ë°‹ ë©”ì‹œì§€ íŒ¨í„´ (type: description í˜•ì‹)
pattern="^((feat|fix|chore|docs|style|refactor|test|rename|remove|add|merge|move|lint): .+|Merge branch .+)"

# ì»¤ë°‹ ë©”ì‹œì§€ ê²€ì¦
if ! echo "$commit_message" | grep -Eq "$pattern"; then
  echo "ğŸš¨ ì»¤ë°‹ ë©”ì‹œì§€ í˜•ì‹ì´ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤."
  echo "ì˜¬ë°”ë¥¸ í˜•ì‹: type: description ë˜ëŠ” Merge branch <branch-name>"
  echo "ì˜ˆ: feat: add new login feature"
  echo "ì˜ˆ: fix: resolve authentication bug"
  echo "ì˜ˆ: Merge branch 'feature/login'"
  exit 1
fi
